(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(16),l=r.n(i),o=(r(59),r(60),r(61),r(34)),c=r(18),s=r.n(c),d=r(29),u=r(14),p=r(5),f=r(9),h=r(10),b=r(12),g=r(11),m=r(2),v=r(13),x=r(3),O=r(4),j=r(7);function k(){var e=Object(x.a)(["\n  border: none;\n  color: #9E9E9E;\n  background-color: inherit;\n  &:hover {\n    color: black;\n  }\n"]);return k=function(){return e},e}function S(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: space-between;\n  box-shadow: 1px 1px 5px grey\n  padding: 8px;\n  margin-bottom: 8px;\n  border-radius: 2px;\n  background-color: #ffd7a8;\n  border: ",";\n  display: flex;\n"]);return S=function(){return e},e}var y=O.a.div(S(),function(e){return e.isDragging?"1px solid grey":"none"}),E=O.a.button(k()),I=function(e){function t(){return Object(f.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(j.b,{draggableId:this.props.article.id,index:this.props.index},function(t,r){return a.a.createElement(y,Object.assign({},t.dragHandleProps,t.draggableProps,{ref:t.innerRef,isDragging:r.isDragging}),a.a.createElement("a",{href:e.props.article.link,target:"_blank'"},e.props.article.content),a.a.createElement(E,{className:"fa fa-trash-o",hidden:e.props.hideDeleteButton,onClick:function(){return e.props.deleteArticle(e.props.article.id)}}))})}}]),t}(a.a.Component);function w(){var e=Object(x.a)(["\nposition: absolute;\ntop: -70px;\nleft: -14px;\n"]);return w=function(){return e},e}function R(){var e=Object(x.a)(["\nposition: absolute;\ntop: 3px;\nright: 2px;\n"]);return R=function(){return e},e}function A(){var e=Object(x.a)(["\nbackground-color: #d5ede4;\nborder-bottom: 1px solid lightgrey;\n"]);return A=function(){return e},e}function N(){var e=Object(x.a)(["\nborder: none;\nbackground: transparent;\ncolor: #7a8699;\n&:focus {\n  outline: none;\n}\n&:hover {\n  color: black;\n}\n"]);return N=function(){return e},e}function D(){var e=Object(x.a)(["\n  padding: 8px;\n  border-radius: 2px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  background-color: ",";\n  border: ",";\n  flex-grow: 1;\n  min-height: 100px;\n  "]);return D=function(){return e},e}function P(){var e=Object(x.a)(["\n  padding: 8px;\n  width: 60%;\n  background-color: inherit;\n  font-weight: 200;\n  border-style: none;\n  &:focus {\n    outline: none;\n  }\n\n"]);return P=function(){return e},e}function C(){var e=Object(x.a)(["\n  color: black;\n  padding: 8px;\n  margin: 0;\n"]);return C=function(){return e},e}function B(){var e=Object(x.a)(["\n  margin: 12px;\n  margin-top: ",";\n  border: none;\n  background-color: #d9f2d5;\n  width: 260px;\n  min-height: 260px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]);return B=function(){return e},e}var W=O.a.div(B(),function(e){return 0===e.index?"80px":null}),F=O.a.h5(C()),V=O.a.input(P()),T=O.a.div(D(),function(e){return e.isDraggingOver?"#d5ede4":"inherit"},function(e){return e.isDraggingOver?"1px solid grey":"none"}),H=O.a.button(N()),J=O.a.span(A()),z=O.a.span(R()),K=O.a.div(w()),M=function(e){function t(){return Object(f.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.articles!==this.props.articles}},{key:"render",value:function(){var e=this;return this.props.articles.map(function(t,r){return a.a.createElement(I,{key:t.id,article:t,index:r,hideDeleteButton:e.props.isFirstFolder,deleteArticle:e.props.deleteArticle})})}}]),t}(a.a.Component),U=function(e){function t(e){var r;return Object(f.a)(this,t),(r=Object(b.a)(this,Object(g.a)(t).call(this,e))).state={searchTerm:"",pageNum:1},r.handleSearchChange=r.handleSearchChange.bind(Object(m.a)(r)),r.handleSearchSubmit=r.handleSearchSubmit.bind(Object(m.a)(r)),r.mobileSearchSubmit=r.mobileSearchSubmit.bind(Object(m.a)(r)),r.nextPage=r.nextPage.bind(Object(m.a)(r)),r.prevPage=r.prevPage.bind(Object(m.a)(r)),r}return Object(v.a)(t,e),Object(h.a)(t,[{key:"nextPage",value:function(){var e=this;this.setState(function(e){return{pageNum:e.pageNum+1}},function(){return e.props.populateSearchResults("",e.state.pageNum,!1)})}},{key:"prevPage",value:function(){var e=this;this.setState(function(e){return{pageNum:e.pageNum-1}},function(){return e.props.populateSearchResults("",e.state.pageNum,!1)})}},{key:"handleSearchChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"mobileSearchSubmit",value:function(){this.props.populateSearchResults(this.state.searchTerm,1)}},{key:"handleSearchSubmit",value:function(e){"Enter"===e.key&&this.props.populateSearchResults(this.state.searchTerm,1)}},{key:"render",value:function(){var e=this,t=0===this.props.index,r="folder-1"!==this.props.folder.id||"folder-1"===this.props.folder.id&&0===this.props.articles.length;return a.a.createElement(j.b,{draggableId:this.props.folder.id,isDragDisabled:"folder-1"===this.props.folder.id,index:this.props.index},function(n){return a.a.createElement(W,Object.assign({},n.draggableProps,n.dragHandleProps,{ref:n.innerRef,index:e.props.index}),t?a.a.createElement(a.a.Fragment,null,a.a.createElement(K,null,a.a.createElement("ol",null,a.a.createElement("li",null,"Search Wikipedia"),a.a.createElement("li",null,"Drag and drop articles"))),a.a.createElement(J,null,a.a.createElement(V,{type:"text",placeholder:"Search Wikipedia...",value:e.state.searchTerm,onBlur:e.mobileSearchSubmit,onChange:e.handleSearchChange,onKeyDown:e.handleSearchSubmit}),a.a.createElement(z,{hidden:r},a.a.createElement(H,{onClick:e.prevPage,hidden:e.props.hidePrevButton,className:"fa fa-arrow-circle-left fa-2x"}),a.a.createElement(H,{onClick:e.nextPage,hidden:e.props.hideNextButton},a.a.createElement("i",{className:"fa fa-arrow-circle-right fa-2x"}))))):a.a.createElement(J,null,a.a.createElement(F,null,e.props.folder.title)),a.a.createElement(j.c,{droppableId:e.props.folder.id,type:"article",isDropDisabled:"folder-1"===e.props.folder.id},function(t,r){return a.a.createElement(T,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:r.isDraggingOver}),a.a.createElement(M,{articles:e.props.articles,isFirstFolder:"folder-1"===e.props.folder.id,deleteArticle:e.props.deleteArticle}),t.placeholder)}))})}}]),t}(a.a.Component),$={articles:{},folders:{"folder-1":{id:"folder-1",title:"",articleIds:[]},"folder-2":{id:"folder-2",title:"Interesting",articleIds:[]},"folder-3":{id:"folder-3",title:"Favorites",articleIds:[]}},folderOrder:["folder-1","folder-2","folder-3"]};function _(){var e=Object(x.a)(["\ndisplay: flex;\njustify-content: center;\n"]);return _=function(){return e},e}var q=O.a.div(_()),G=function(e){function t(e){var r;return Object(f.a)(this,t),(r=Object(b.a)(this,Object(g.a)(t).call(this,e))).onDragEnd=function(e){var t,n=e.destination,a=e.source,i=e.draggableId,l=e.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index))if("folder"!==l){var o=r.state.folders[a.droppableId],c=r.state.folders[n.droppableId];if(o!==c){var s=Array.from(o.articleIds);s.splice(a.index,1);var d=Object(p.a)({},o,{articleIds:s}),f=Array.from(c.articleIds);f.splice(n.index,0,i);var h=Object(p.a)({},c,{articleIds:f}),b=Object(p.a)({},r.state,{folders:Object(p.a)({},r.state.folders,(t={},Object(u.a)(t,d.id,d),Object(u.a)(t,h.id,h),t))});if(r.setState(b),"folder-1"===o.id){for(var g=Array.from(r.state.searchResults),m=0;m<g.length;m++)g[m].id===i&&g.splice(m,1);r.setState({searchResults:g})}}else{var v=Array.from(o.articleIds);v.splice(a.index,1),v.splice(n.index,0,i);var x=Object(p.a)({},o,{articleIds:v}),O=Object(p.a)({},r.state,{folders:Object(p.a)({},r.state.folders,Object(u.a)({},x.id,x))});r.setState(O)}}else{var j=Array.from(r.state.folderOrder);j.splice(a.index,1),j.splice(n.index,0,i);var k=Object(p.a)({},r.state,{folderOrder:j});r.setState(k)}},r.state={articles:$.articles,folders:$.folders,folderOrder:$.folderOrder,nextArticleId:0,searchResults:[],firstResultVisible:!1,lastResultVisible:!1},r.getWikiArticles=r.getWikiArticles.bind(Object(m.a)(r)),r.populateSearchResults=r.populateSearchResults.bind(Object(m.a)(r)),r.deleteArticle=r.deleteArticle.bind(Object(m.a)(r)),r}return Object(v.a)(t,e),Object(h.a)(t,[{key:"getWikiArticles",value:function(){var e=Object(d.a)(s.a.mark(function e(t){var r,n=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],""===t){e.next=4;break}return e.next=4,fetch("https://en.wikipedia.org/w/api.php?&origin=*&action=opensearch&search=".concat(t,"&limit=35")).then(function(e){return e.json()}).then(function(e){for(var t=[],r=function(r){n.setState(function(e){return{nextArticleId:e.nextArticleId+1}},function(){t.push({id:"article-".concat(n.state.nextArticleId),content:e[1][r],link:e[3][r]})})},a=0;a<e[1].length;a++)r(a);return t}).then(function(e){return r=e}).catch(function(e){return console.log(e)});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"populateSearchResults",value:function(){var e=Object(d.a)(s.a.mark(function e(t,r){var n,a,i,l,o=this,c=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>2&&void 0!==c[2])||c[2],a={},i={id:"folder-1",title:"",articleIds:[]},l=[],!n){e.next=10;break}return e.next=7,this.getWikiArticles(t);case 7:l=e.sent,e.next=11;break;case 10:l=this.state.searchResults;case 11:this.setState({searchResults:l},function(){var e=5*r;e>=l.length&&(e=l.length);var t=e-5;t<0&&(t=0);for(var n=t;n<e;n++)a[l[n].id]={id:l[n].id,content:l[n].content,link:l[n].link},i.articleIds.push(l[n].id);var c=Object(p.a)({},o.state,{articles:Object(p.a)({},o.state.articles,a),folders:Object(p.a)({},o.state.folders,{"folder-1":i})});o.setState(c,function(){if(l[0]){var e=-1!==o.state.folders["folder-1"].articleIds.indexOf(l[0].id),t=-1!==o.state.folders["folder-1"].articleIds.indexOf(l[l.length-1].id);o.setState({firstResultVisible:e}),o.setState({lastResultVisible:t})}})});case 12:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(e){var t=this.state.folders,r=0;for(var n in t)-1!==t[n].articleIds.indexOf(e)&&(r=n);for(var a=Object(o.a)(this.state.searchResults),i=0;i<a.length;i++)a[i].id===e&&a.splice(i,1);this.setState({searchResults:a});var l={};for(var c in this.state.articles)c!==e&&(l[c]=this.state.articles[c]);var s=this.state.folders[r],d=Object(o.a)(s.articleIds);d.splice(d.indexOf(e),1);var f={id:s.id,title:s.title,articleIds:d},h=Object(p.a)({},this.state,{articles:l,folders:Object(p.a)({},this.state.folders,Object(u.a)({},r,f))});this.setState(h)}},{key:"render",value:function(){var e=this;return a.a.createElement(j.a,{onDragEnd:this.onDragEnd},a.a.createElement(j.c,{droppableId:"all-folders",direction:"horizontal",type:"folder"},function(t){return a.a.createElement(q,Object.assign({},t.droppableProps,{ref:t.innerRef,className:"row"}),e.state.folderOrder.map(function(t,r){var n=e.state.folders[t],i=n.articleIds.map(function(t){return e.state.articles[t]});return a.a.createElement(U,{className:"col",key:n.id,folder:n,articles:i,index:r,populateSearchResults:e.populateSearchResults,deleteArticle:e.deleteArticle,hidePrevButton:e.state.firstResultVisible,hideNextButton:e.state.lastResultVisible})}),t.placeholder)}))}}]),t}(a.a.Component);var L=function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row text-center mt-4"},a.a.createElement("div",{className:"col"},a.a.createElement("h2",null,"Wikipedia Article Manager"))),a.a.createElement("div",{className:"row mt-2"},a.a.createElement("div",{className:"col"},a.a.createElement(G,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,r){e.exports=r(102)},61:function(e,t,r){}},[[54,1,2]]]);
//# sourceMappingURL=main.b78404fe.chunk.js.map