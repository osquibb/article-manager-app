(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(16),o=r.n(i),s=(r(59),r(60),r(61),r(34)),c=r(18),l=r.n(c),d=r(29),u=r(14),p=r(2),f=r(9),h=r(10),b=r(12),g=r(11),v=r(3),m=r(13),O=r(4),x=r(5),j=r(7);function k(){var e=Object(O.a)(["\n  border: none;\n  color: #9E9E9E;\n  background-color: inherit;\n  &:hover {\n    color: black;\n  }\n"]);return k=function(){return e},e}function E(){var e=Object(O.a)(["\n  border: 1px solid #9E9E9E;\n  display: flex;\n  justify-content: space-between;\n  border-radius: 2px;\n  padding: 8px;\n  margin-bottom: 8px;\n  background-color: ",";\n  display: flex;\n"]);return E=function(){return e},e}var y=x.a.div(E(),function(e){return e.isDragging?"#DCF8FF":"white"}),S=x.a.button(k()),I=function(e){function t(){return Object(f.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(j.b,{draggableId:this.props.article.id,index:this.props.index},function(t,r){return a.a.createElement(y,Object.assign({},t.dragHandleProps,t.draggableProps,{ref:t.innerRef,isDragging:r.isDragging}),a.a.createElement("a",{href:e.props.article.link,target:"_blank'"},e.props.article.content),a.a.createElement(S,{className:"fa fa-trash-o",hidden:e.props.hideDeleteButton,onClick:function(){return e.props.deleteArticle(e.props.article.id)}}))})}}]),t}(a.a.Component);function w(){var e=Object(O.a)(["\nborder: none;\nbackground: white;\ncolor: #9E9E9E;\nposition: absolute;\nbottom: -30px;\nright: 8px;\n"]);return w=function(){return e},e}function R(){var e=Object(O.a)(["\nborder: none;\nbackground: none;\ncolor: #9E9E9E;\n&:hover {\n  color: black;\n}\n"]);return R=function(){return e},e}function A(){var e=Object(O.a)(["\n  padding: 8px;\n  background-color: ",";\n  flex-grow: 1;\n  min-height: 100px;\n  "]);return A=function(){return e},e}function C(){var e=Object(O.a)(["\n  padding: 8px;\n  font-weight: 200;\n  border-style: none;\n  border-bottom: 1px solid lightgrey;\n  &:focus {\n    outline: none;\n    background-color: #DCF8FF;\n  }\n\n"]);return C=function(){return e},e}function D(){var e=Object(O.a)(["\n  color: #9E9E9E;\n  padding: 8px;\n  margin: 0;\n  border-bottom: 1px solid lightgrey;\n"]);return D=function(){return e},e}function P(){var e=Object(O.a)(["\n  margin: 8px;\n  border: ",";\n  background-color: white;\n  border-radius: 2px;\n  width: 200px;\n  min-height: 260px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]);return P=function(){return e},e}var N=x.a.div(P(),function(e){return 0===e.index?"none":"1px solid lightgrey"}),F=x.a.h5(D()),B=x.a.input(C()),W=x.a.div(A(),function(e){return e.isDraggingOver?"#ECECEC":"inherit"}),V=x.a.button(R()),T=x.a.div(w()),H=function(e){function t(){return Object(f.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.articles!==this.props.articles}},{key:"render",value:function(){var e=this;return this.props.articles.map(function(t,r){return a.a.createElement(I,{key:t.id,article:t,index:r,hideDeleteButton:e.props.isFirstFolder,deleteArticle:e.props.deleteArticle})})}}]),t}(a.a.Component),J=function(e){function t(e){var r;return Object(f.a)(this,t),(r=Object(b.a)(this,Object(g.a)(t).call(this,e))).state={searchTerm:"",pageNum:1},r.handleSearchChange=r.handleSearchChange.bind(Object(v.a)(r)),r.handleSearchSubmit=r.handleSearchSubmit.bind(Object(v.a)(r)),r.nextPage=r.nextPage.bind(Object(v.a)(r)),r.prevPage=r.prevPage.bind(Object(v.a)(r)),r}return Object(m.a)(t,e),Object(h.a)(t,[{key:"nextPage",value:function(){var e=this;this.setState(function(e){return{pageNum:e.pageNum+1}},function(){return e.props.populateSearchResults("",e.state.pageNum,!1)})}},{key:"prevPage",value:function(){var e=this;this.setState(function(e){return{pageNum:e.pageNum-1}},function(){return e.props.populateSearchResults("",e.state.pageNum,!1)})}},{key:"handleSearchChange",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"handleSearchSubmit",value:function(e){"Enter"===e.key&&this.props.populateSearchResults(this.state.searchTerm,1)}},{key:"render",value:function(){var e=this,t=0===this.props.index,r="folder-1"!==this.props.folder.id||"folder-1"===this.props.folder.id&&0===this.props.articles.length;return a.a.createElement(j.b,{draggableId:this.props.folder.id,isDragDisabled:"folder-1"===this.props.folder.id,index:this.props.index},function(n){return a.a.createElement(N,Object.assign({},n.draggableProps,n.dragHandleProps,{ref:n.innerRef,index:e.props.index}),t?a.a.createElement(B,{type:"text",placeholder:"Search Wikipedia...",value:e.state.searchTerm,onChange:e.handleSearchChange,onKeyDown:e.handleSearchSubmit}):a.a.createElement(F,null,e.props.folder.title),a.a.createElement(j.c,{droppableId:e.props.folder.id,type:"article",isDropDisabled:"folder-1"===e.props.folder.id},function(t,n){return a.a.createElement(W,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:n.isDraggingOver}),a.a.createElement(H,{articles:e.props.articles,isFirstFolder:"folder-1"===e.props.folder.id,deleteArticle:e.props.deleteArticle}),a.a.createElement(T,{hidden:r},a.a.createElement(V,{onClick:e.prevPage,hidden:e.props.hidePrevButton,className:"fa fa-arrow-circle-left fa-2x"}),a.a.createElement(V,{onClick:e.nextPage,hidden:e.props.hideNextButton,className:"fa fa-arrow-circle-right fa-2x"})),t.placeholder)}))})}}]),t}(a.a.Component),z={articles:{},folders:{"folder-1":{id:"folder-1",title:"",articleIds:[]},"folder-2":{id:"folder-2",title:"Interesting",articleIds:[]},"folder-3":{id:"folder-3",title:"Favorites",articleIds:[]}},folderOrder:["folder-1","folder-2","folder-3"]};function K(){var e=Object(O.a)(["\ndisplay: flex;\njustify-content: center;\n"]);return K=function(){return e},e}var U=x.a.div(K()),$=function(e){function t(e){var r;return Object(f.a)(this,t),(r=Object(b.a)(this,Object(g.a)(t).call(this,e))).onDragEnd=function(e){var t,n=e.destination,a=e.source,i=e.draggableId,o=e.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index))if("folder"!==o){var s=r.state.folders[a.droppableId],c=r.state.folders[n.droppableId];if(s!==c){var l=Array.from(s.articleIds);l.splice(a.index,1);var d=Object(p.a)({},s,{articleIds:l}),f=Array.from(c.articleIds);f.splice(n.index,0,i);var h=Object(p.a)({},c,{articleIds:f}),b=Object(p.a)({},r.state,{folders:Object(p.a)({},r.state.folders,(t={},Object(u.a)(t,d.id,d),Object(u.a)(t,h.id,h),t))});if(r.setState(b),"folder-1"===s.id){for(var g=Array.from(r.state.searchResults),v=0;v<g.length;v++)g[v].id===i&&g.splice(v,1);r.setState({searchResults:g})}}else{var m=Array.from(s.articleIds);m.splice(a.index,1),m.splice(n.index,0,i);var O=Object(p.a)({},s,{articleIds:m}),x=Object(p.a)({},r.state,{folders:Object(p.a)({},r.state.folders,Object(u.a)({},O.id,O))});r.setState(x)}}else{var j=Array.from(r.state.folderOrder);j.splice(a.index,1),j.splice(n.index,0,i);var k=Object(p.a)({},r.state,{folderOrder:j});r.setState(k)}},r.state={articles:z.articles,folders:z.folders,folderOrder:z.folderOrder,nextArticleId:0,searchResults:[],firstResultVisible:!1,lastResultVisible:!1},r.getWikiArticles=r.getWikiArticles.bind(Object(v.a)(r)),r.populateSearchResults=r.populateSearchResults.bind(Object(v.a)(r)),r.deleteArticle=r.deleteArticle.bind(Object(v.a)(r)),r}return Object(m.a)(t,e),Object(h.a)(t,[{key:"getWikiArticles",value:function(){var e=Object(d.a)(l.a.mark(function e(t){var r,n=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],""===t){e.next=4;break}return e.next=4,fetch("https://en.wikipedia.org/w/api.php?&origin=*&action=opensearch&search=".concat(t,"&limit=32")).then(function(e){return e.json()}).then(function(e){for(var t=[],r=function(r){n.setState(function(e){return{nextArticleId:e.nextArticleId+1}},function(){t.push({id:"article-".concat(n.state.nextArticleId),content:e[1][r],link:e[3][r]})})},a=0;a<e[1].length;a++)r(a);return t}).then(function(e){return r=e}).catch(function(e){return console.log(e)});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"populateSearchResults",value:function(){var e=Object(d.a)(l.a.mark(function e(t,r){var n,a,i,o,s=this,c=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>2&&void 0!==c[2])||c[2],a={},i={id:"folder-1",title:"",articleIds:[]},o=[],!n){e.next=10;break}return e.next=7,this.getWikiArticles(t);case 7:o=e.sent,e.next=11;break;case 10:o=this.state.searchResults;case 11:this.setState({searchResults:o},function(){var e=4*r;e>=o.length&&(e=o.length);var t=e-4;t<0&&(t=0);for(var n=t;n<e;n++)a[o[n].id]={id:o[n].id,content:o[n].content,link:o[n].link},i.articleIds.push(o[n].id);var c=Object(p.a)({},s.state,{articles:Object(p.a)({},s.state.articles,a),folders:Object(p.a)({},s.state.folders,{"folder-1":i})});s.setState(c,function(){if(o[0]){var e=-1!==s.state.folders["folder-1"].articleIds.indexOf(o[0].id),t=-1!==s.state.folders["folder-1"].articleIds.indexOf(o[o.length-1].id);s.setState({firstResultVisible:e}),s.setState({lastResultVisible:t})}})});case 12:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteArticle",value:function(e){var t=this.state.folders,r=0;for(var n in t)-1!==t[n].articleIds.indexOf(e)&&(r=n);for(var a=Object(s.a)(this.state.searchResults),i=0;i<a.length;i++)a[i].id===e&&a.splice(i,1);this.setState({searchResults:a});var o={};for(var c in this.state.articles)c!==e&&(o[c]=this.state.articles[c]);var l=this.state.folders[r],d=Object(s.a)(l.articleIds);d.splice(d.indexOf(e),1);var f={id:l.id,title:l.title,articleIds:d},h=Object(p.a)({},this.state,{articles:o,folders:Object(p.a)({},this.state.folders,Object(u.a)({},r,f))});this.setState(h)}},{key:"render",value:function(){var e=this;return a.a.createElement(j.a,{onDragEnd:this.onDragEnd},a.a.createElement(j.c,{droppableId:"all-folders",direction:"horizontal",type:"folder"},function(t){return a.a.createElement(U,Object.assign({},t.droppableProps,{ref:t.innerRef}),e.state.folderOrder.map(function(t,r){var n=e.state.folders[t],i=n.articleIds.map(function(t){return e.state.articles[t]});return a.a.createElement(J,{key:n.id,folder:n,articles:i,index:r,populateSearchResults:e.populateSearchResults,deleteArticle:e.deleteArticle,hidePrevButton:e.state.firstResultVisible,hideNextButton:e.state.lastResultVisible})}),t.placeholder)}))}}]),t}(a.a.Component);var _=function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col"},a.a.createElement($,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,r){e.exports=r(102)},61:function(e,t,r){}},[[54,1,2]]]);
//# sourceMappingURL=main.4f87465a.chunk.js.map